(this["webpackJsonptasty-kitchens"]=this["webpackJsonptasty-kitchens"]||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){"use strict";a.r(t);var s=a(2),n=a.n(s),r=a(35),c=a.n(r),i=a(5),o=(a(45),a(6)),l=a(14),u=a(12),d=a.n(u),j=a(1),m=function(e){return void 0===d.a.get("jwt_token")?Object(j.jsx)(o.a,{to:"/login"}):Object(j.jsx)(o.b,Object(l.a)({},e))},b=a(18),h=a(7),p=a(8),O=a(9),g=a(10),x=a(16),f=a.n(x),v=(a(55),function(e){Object(O.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(h.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={username:"",password:"",showLoginError:!1,errorMessage:""},e.onSubmitSuccess=function(t,a){var s=e.props.history;d.a.set("jwt_token",t,{expires:30,path:"/"}),localStorage.setItem("userDetails",JSON.stringify(a)),s.replace("/")},e.onSubmitFailure=function(t){e.setState({errorMessage:t,showLoginError:!0})},e.onSubmitLoginDetails=function(){var t=Object(b.a)(f.a.mark((function t(a){var s,n,r,c,i,o,l;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),s=e.state,n=s.username,r=s.password,c={username:n,password:r},"https://apis.ccbp.in/login",i={method:"POST",body:JSON.stringify(c)},t.next=7,fetch("https://apis.ccbp.in/login",i);case 7:return o=t.sent,t.next=10,o.json();case 10:l=t.sent,!0===o.ok?e.onSubmitSuccess(l.jwt_token,c):e.onSubmitFailure(l.error_msg);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onChangeUsername=function(t){e.setState({username:t.target.value})},e.onChangePassword=function(t){e.setState({password:t.target.value})},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this.state,t=e.password,a=e.username,s=e.showLoginError,n=e.errorMessage;return void 0!==d.a.get("jwt_token")?Object(j.jsx)(o.a,{to:"/"}):Object(j.jsxs)("div",{className:"user-login-form-container",children:[Object(j.jsx)("div",{className:"landing-image-container",children:Object(j.jsx)("img",{src:"https://res.cloudinary.com/hariy/image/upload/v1642577455/TastyKitchen/Rectangle_1456_vxi82x.png",alt:"website login",className:"login-desktop-landing-image"})}),Object(j.jsx)("div",{className:"login-form-container",children:Object(j.jsxs)("form",{className:"login-form-sub-container",onSubmit:this.onSubmitLoginDetails,children:[Object(j.jsx)("img",{src:"https://res.cloudinary.com/hariy/image/upload/v1642622290/TastyKitchen/Vector_1_i2n5wd.png",alt:"website logo",className:"website-logo"}),Object(j.jsx)("h1",{className:"app-title",children:"Tasty Kitchens"}),Object(j.jsx)("h1",{className:"login-heading",children:"Login"}),Object(j.jsxs)("div",{className:"login-user-field-container",children:[Object(j.jsx)("label",{htmlFor:"username",className:"login-input-label",children:"USERNAME"}),Object(j.jsx)("input",{placeholder:"Username",type:"text",id:"username",className:"input-field",onChange:this.onChangeUsername,value:a})]}),Object(j.jsxs)("div",{className:"login-password-field-container",children:[Object(j.jsx)("label",{htmlFor:"userpassword",className:"login-input-label",children:"PASSWORD"}),Object(j.jsx)("input",{placeholder:"Password",type:"password",id:"userpassword",className:"input-field",onChange:this.onChangePassword,value:t})]}),Object(j.jsx)("button",{type:"submit",className:"login-submit-button",children:"Login"}),s&&Object(j.jsx)("p",{className:"login-error-message",children:n})]})})]})}}]),a}(s.Component)),N=v,y=a(37),S=a(38),k=(a(56),a(57),function(e){Object(O.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(h.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={path:"/",showMenu:!1},e.componentDidMount=function(){e.setState({path:window.location.pathname})},e.onClickLogout=function(){var t=e.props.history;d.a.remove("jwt_token"),localStorage.removeItem("userDetails"),t.replace("/login")},e.showHamburgerMenu=function(){var t=e.state.showMenu;e.setState({showMenu:!t})},e.renderMobileView=function(){return Object(j.jsx)("div",{children:Object(j.jsx)("button",{type:"button",className:"mobile-menu-button",onClick:e.showHamburgerMenu,children:Object(j.jsx)(y.a,{size:20})})})},e.renderDesktopView=function(){var t=e.state.path,a=null,s=null,n=null;return a="/"===t?"selected":"",s="/cart"===t?"selected":"",n="/account"===t?"selected":"",Object(j.jsx)("div",{className:"desktop-menu-container",children:Object(j.jsxs)("ul",{className:"unordered-list-desktop",children:[Object(j.jsx)("li",{className:"list-items",children:Object(j.jsx)(i.b,{to:"/",className:"".concat(a," desktop-nav-menu-item link"),children:"Home"})}),Object(j.jsx)("li",{className:"list-items",children:Object(j.jsx)(i.b,{to:"/cart",className:"".concat(s," desktop-nav-menu-item link"),children:"Cart"})}),Object(j.jsx)("li",{className:"list-items",children:Object(j.jsx)(i.b,{to:"/account",className:"".concat(n," desktop-nav-menu-item link"),children:"Account"})}),Object(j.jsx)("li",{className:"list-items",children:Object(j.jsx)("button",{type:"button",className:"logout-button",onClick:e.onClickLogout,children:"Logout"})})]})})},e}return Object(p.a)(a,[{key:"close",value:function(e){var t=this.state.showMenu;e.preventDefault(),this.setState({showMenu:!t})}},{key:"render",value:function(){var e=this,t=this.state,a=t.path,s=t.showMenu,n=null,r=null,c=null;return n="/"===a?"selected":"",r="/cart"===a?"selected":"",c="/account"===a?"selected":"",Object(j.jsxs)("nav",{className:"nav-container",children:[Object(j.jsxs)("div",{className:"web-nav-container",children:[Object(j.jsxs)(i.b,{to:"/",className:"nav-web-home-anchor-container",children:[Object(j.jsx)("img",{src:"https://res.cloudinary.com/hariy/image/upload/v1642622290/TastyKitchen/Vector_1_i2n5wd.png",alt:"website logo"}),Object(j.jsx)("p",{className:"website-title",children:"Tasty Kitchens"})]}),Object(j.jsx)("div",{className:"mobile-nav-menu",children:this.renderMobileView()}),Object(j.jsx)("div",{className:"desktop-nav-menu",children:this.renderDesktopView()})]}),Object(j.jsxs)("div",{className:"mobile-pop-up-container ".concat(s?"expand-menu":""),children:[Object(j.jsxs)("ul",{className:"unordered-list mobile-menu",children:[Object(j.jsx)("li",{className:"list-items",children:Object(j.jsx)(i.b,{to:"/",className:"".concat(n," desktop-nav-menu-item link"),children:"Home"})}),Object(j.jsx)("li",{className:"list-items",children:Object(j.jsx)(i.b,{to:"/cart",className:"".concat(r," desktop-nav-menu-item link"),children:"Cart"})}),Object(j.jsx)("li",{className:"list-items",children:Object(j.jsx)(i.b,{to:"/account",className:"".concat(c," desktop-nav-menu-item link"),children:"Account"})}),Object(j.jsx)("li",{className:"list-items",children:Object(j.jsx)("button",{type:"button",className:"mobile-logout-button desktop-nav-menu-item",onClick:this.onClickLogout,children:"Logout"})})]}),Object(j.jsx)("button",{className:"mobile-menu-close-button",type:"button",onClick:function(t){return e.close(t)},children:Object(j.jsx)(S.a,{})})]})]})}}]),a}(s.Component)),w=Object(o.g)(k),C=a(22);a(58);function I(){return Object(j.jsx)("div",{className:"footer-container",children:Object(j.jsxs)("div",{className:"footer-sub-container",children:[Object(j.jsxs)("div",{className:"footer-title-container",children:[Object(j.jsx)("img",{className:"footer-website-logo",src:"https://res.cloudinary.com/hariy/image/upload/v1642747222/TastyKitchen/Vector_2_wfbmrn.png",alt:"website-footer-logo"}),Object(j.jsx)("h1",{className:"footer-website-title",children:"Tasty Kitchens"})]}),Object(j.jsx)("p",{className:"footer-desc",children:"The only thing we are serious about is food. Contact us on"}),Object(j.jsxs)("div",{className:"footer-social-container",children:[Object(j.jsx)(C.c,{testid:"pintrest-social-icon",className:"footer-social-icon"}),Object(j.jsx)(C.b,{testid:"instagram-social-icon",className:"footer-social-icon"}),Object(j.jsx)(C.d,{testid:"twitter-social-icon",className:"footer-social-icon"}),Object(j.jsx)(C.a,{testid:"facebook-social-icon",className:"footer-social-icon"})]})]})})}var L=a(39),D=a.n(L),A=a(20),_=a.n(A),T=(a(92),function(e){var t=e.imageUrl;return Object(j.jsx)("img",{src:t,alt:"offer",className:"carousel-image"})}),P=(a(93),"INITIAL"),q="SUCCESS",M="FAILURE",U="IN_PROGRESS",R=function(e){Object(O.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(h.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={carouselList:[],apiStatus:P},e.componentDidMount=function(){e.getCarouselData()},e.getCarouselData=Object(b.a)(f.a.mark((function t(){var a,s,n,r,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({apiStatus:U}),a=d.a.get("jwt_token"),s={headers:{Authorization:"Bearer ".concat(a)},method:"GET"},"https://apis.ccbp.in/restaurants-list/offers",t.next=6,fetch("https://apis.ccbp.in/restaurants-list/offers",s);case 6:if(!(n=t.sent).ok){t.next=15;break}return t.next=10,n.json();case 10:r=t.sent,c=r.offers.map((function(e){return{id:e.id,imageUrl:e.image_url}})),e.setState({apiStatus:q,carouselList:c}),t.next=16;break;case 15:e.setState({apiStatus:M});case 16:case"end":return t.stop()}}),t)}))),e.renderCarouselSuccess=function(){var t=e.state.carouselList;return Object(j.jsx)("div",{className:"container",children:Object(j.jsx)(D.a,Object(l.a)(Object(l.a)({},{dots:!0,infinite:!0,autoplay:!0}),{},{children:t.map((function(e){return Object(j.jsx)(T,{imageUrl:e.imageUrl},e.id)}))}))})},e.renderFailureView=function(){return Object(j.jsx)("h1",{children:"dsf"})},e.renderLoadingView=function(){return Object(j.jsx)("div",{className:"products-loader-container loader",style:{width:"100%",height:"180px"},testid:"restaurants-offers-loader",children:Object(j.jsx)(_.a,{type:"Oval",color:"#f7931e",height:"50",width:"50"})})},e.renderCarouselPage=function(){switch(e.state.apiStatus){case q:return e.renderCarouselSuccess();case M:return e.renderFailureView();case U:return e.renderLoadingView();default:return null}},e}return Object(p.a)(a,[{key:"render",value:function(){return Object(j.jsx)("div",{className:"carousel-container",children:this.renderCarouselPage()})}}]),a}(s.Component),V=a(40),E=a(33),F=a(28),J=a(13),K=(a(94),function(e){var t=e.details;return Object(j.jsx)("li",{className:"all-rest-li",testid:"restaurant-item",children:Object(j.jsxs)(i.b,{className:"all-rest-link-detail",to:"/restaurant/".concat(t.id),children:[Object(j.jsx)("img",{src:t.imageUrl,alt:"restaurant",className:"all-rest-image"}),Object(j.jsxs)("div",{className:"all-rest-details-cont",children:[Object(j.jsx)("h1",{className:"all-rest-title",children:t.name}),Object(j.jsx)("p",{className:"all-rest-type",children:t.cuisine}),Object(j.jsxs)("div",{className:"all-rest-rating-cont",children:[Object(j.jsx)(J.b,{className:"all-rest-rating-icon"}),Object(j.jsx)("p",{className:"all-rest-rating",children:t.rating}),Object(j.jsx)("p",{className:"all-rest-user-rating",children:"(".concat(t.totalReviews,") ratings")})]})]})]})})}),H=(a(95),[{id:0,displayText:"Highest",value:"Highest"},{id:2,displayText:"Lowest",value:"Lowest"}]),Q="INITIAL",B="SUCCESS",G="FAILURE",Y="IN_PROGRESS",z=function(e){Object(O.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(h.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={apiStatus:Q,allRestaurantList:[],activePage:1,totalPages:1,searchInput:"",activeSortId:H[1].value},e.componentDidMount=function(){e.getAllrestaurantDetails()},e.getAllrestaurantDetails=Object(b.a)(f.a.mark((function t(){var a,s,n,r,c,i,o,l,u,j,m,b,h;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state,s=a.activePage,n=a.searchInput,r=a.activeSortId,i=(s-1)*(c=9),e.setState({apiStatus:Y}),o=d.a.get("jwt_token"),l="https://apis.ccbp.in/restaurants-list?sort_by_rating=".concat(r,"&search=").concat(n,"&offset=").concat(i,"&limit=").concat(c),u={headers:{Authorization:"Bearer ".concat(o)},method:"GET"},t.next=9,fetch(l,u);case 9:if(!(j=t.sent).ok){t.next=19;break}return t.next=13,j.json();case 13:m=t.sent,b=m.restaurants.map((function(e){return{costForTwo:e.cost_for_two,cuisine:e.cuisine,groupByTime:e.group_by_time,hasOnlineDelivery:e.has_online_delivery,hasTableBooking:e.has_table_booking,id:e.id,imageUrl:e.image_url,isDeliveringNow:e.is_delivering_now,location:e.location,menuType:e.menu_type,name:e.name,opensAt:e.opens_at,rating:e.user_rating.rating,ratingColor:e.user_rating.rating_color,ratingText:e.user_rating.rating_text,totalReviews:e.user_rating.total_reviews}})),h=Math.ceil(m.total/c),e.setState({apiStatus:B,allRestaurantList:b,totalPages:h}),t.next=20;break;case 19:e.setState({apiStatus:G});case 20:case"end":return t.stop()}}),t)}))),e.renderSearchInput=function(){var t=e.state.searchInput;return Object(j.jsxs)("div",{className:"all-rest-input-container",children:[Object(j.jsx)("input",{type:"search",value:t,placeholder:"Search",onChange:e.onChangeSearchInput,onKeyDown:e.onEnterSearchInput,className:"all-rest-search-input"}),Object(j.jsx)("button",{onClick:e.onCleckSearchButton,className:"all-rest-search-button",type:"button",children:Object(j.jsx)(F.b,{})})]})},e.onCleckSearchButton=function(){e.getAllrestaurantDetails()},e.onChangeSearchInput=function(t){e.setState({searchInput:t.target.value})},e.onEnterSearchInput=function(t){"Enter"===t.key&&e.getAllrestaurantDetails()},e.onChangeActiveId=function(t){e.setState({activeSortId:t.target.value,allRestaurantList:[],activePage:1,totalPages:1,searchInput:""},e.getAllrestaurantDetails)},e.reDirectToHome=function(){e.setState({apiStatus:Q,allRestaurantList:[],activePage:1,totalPages:1,searchInput:""},e.getAllrestaurantDetails)},e.renderAllrestaurant=function(){var t=e.state,a=t.allRestaurantList,s=t.activePage,n=t.totalPages;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("ul",{className:"all-rest-ul",children:a.map((function(e){return Object(j.jsx)(K,{details:e},e.id)}))}),Object(j.jsxs)("div",{className:"all-rest-button-cont",children:[Object(j.jsx)("button",{type:"button",testid:"pagination-left-button",className:"all-rest-page-button",onClick:e.navgateToPrevPage,children:Object(j.jsx)(E.a,{className:"navigate-page-icon"})}),Object(j.jsxs)("p",{className:"all-rest-page-desc",children:[Object(j.jsx)("span",{testid:"active-page-number",children:s})," of"," ",Object(j.jsx)("span",{testid:"total-page-numbers",children:n})]}),Object(j.jsx)("button",{type:"button",testid:"pagination-right-button",className:"all-rest-page-button",onClick:e.navgateToNextPage,children:Object(j.jsx)(E.b,{className:"navigate-page-icon"})})]})]})},e.navgateToPrevPage=function(){var t=e.state,a=t.activePage;a<=t.totalPages&&a>1&&e.setState((function(e){return{activePage:e.activePage-1}}),e.getAllrestaurantDetails)},e.navgateToNextPage=function(){var t=e.state,a=t.activePage;a<t.totalPages&&e.setState({activePage:a+1},e.getAllrestaurantDetails)},e.renderFailureView=function(){return Object(j.jsxs)("div",{className:"all-rest-failure-container",children:[Object(j.jsx)("img",{src:"https://res.cloudinary.com/hariy/image/upload/v1642997774/TastyKitchen/cooking_1_lpi3li.png",alt:"not-found"}),Object(j.jsxs)("div",{className:"rest-empty-cart-desc-container",children:[Object(j.jsx)("h1",{className:"rest-empty-cart-title",children:"No Restaurant Found!"}),Object(j.jsx)("p",{className:"rest-empty-cart-desc",children:"Search for other restaurants"}),Object(j.jsx)("button",{onClick:e.reDirectToHome,className:"all-rest-not-found-button",type:"button",children:"Clear"})]})]})},e.renderLoadingView=function(){return Object(j.jsx)("div",{style:{width:"100%",height:"280px"},className:"products-loader-container loader",testid:"restaurants-list-loader",children:Object(j.jsx)(_.a,{type:"Oval",color:"#f7931e",height:"50",width:"50"})})},e.renderAllRestaurantPage=function(){switch(e.state.apiStatus){case B:return e.renderAllrestaurant();case G:return e.renderFailureView();case Y:return e.renderLoadingView();default:return null}},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this.state.activeSortId;return Object(j.jsx)("div",{className:"allvideos-container",children:Object(j.jsxs)("div",{className:"allvideos-sub-container",children:[Object(j.jsxs)("div",{className:"allvideos-header-container",children:[Object(j.jsxs)("div",{className:"all-rest-desc-container",children:[Object(j.jsx)("h1",{className:"allvideos-title",children:"Popular Restaurants"}),Object(j.jsx)("p",{className:"allvideos-desc",children:"Select Your favourite restaurant special dish and make your day happy..."})]}),Object(j.jsxs)("div",{className:"allvideos-filter-container",children:[Object(j.jsx)("div",{className:"all-rest-desktop-search-container",children:this.renderSearchInput()}),Object(j.jsxs)("div",{className:"allvideos-sort-container",children:[Object(j.jsx)(V.a,{className:"filter-icon"}),Object(j.jsx)("p",{className:"sort-by-label",children:"Sort by"}),Object(j.jsx)("select",{onChange:this.onChangeActiveId,value:e,className:"sort-by-select",children:H.map((function(e){return Object(j.jsx)("option",{defaultValue:e.value,className:"select-option",children:e.displayText},e.id)}))})]})]})]}),Object(j.jsx)("hr",{className:"hr-line-desktop"}),this.renderAllRestaurantPage()]})})}}]),a}(s.Component),W=z,X=function(e){Object(O.a)(a,e);var t=Object(g.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return Object(j.jsxs)("div",{testid:"home",children:[Object(j.jsx)(w,{}),Object(j.jsx)(R,{}),Object(j.jsx)(W,{}),Object(j.jsx)(I,{})]})}}]),a}(s.Component),Z=X,$=a(17),ee=a(109),te=(a(96),function(){return null===JSON.parse(localStorage.getItem("cartData"))?[]:JSON.parse(localStorage.getItem("cartData"))}),ae=function(e){Object(O.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(h.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={cartItemsList:te(),quantity:0},e.componentDidMount=function(){var t=e.state.cartItemsList,a=e.props.itemDetails;t.map((function(t){return t.id===a.id?e.setState({quantity:t.quantity}):0}))},e.updateCartAmount=function(){(0,e.props.updateCartValue)()},e.updateCartList=function(){var t=e.state,a=t.quantity,s=t.cartItemsList,n=e.props,r=n.itemDetails,c=n.updateCartListState,i=s.filter((function(e){return e.id!==r.id})),o=s.filter((function(e){return e.id===r.id})),u=Object(l.a)(Object(l.a)({},o[0]),{},{quantity:a});c(0===u.quantity?Object($.a)(i):[].concat(Object($.a)(i),[u])),e.updateCartAmount()},e.onClickDeleteQuantity=function(){e.setState((function(e){return{quantity:e.quantity-1,cartItemsList:te()}}),e.updateCartList)},e.onClickIncreaseQuantity=function(){e.setState((function(e){return{quantity:e.quantity+1}}),e.updateCartList)},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this.state.quantity;return Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{onClick:this.onClickDeleteQuantity,type:"button",className:"cart-items-li-button",testid:"decrement-quantity",children:Object(j.jsx)(J.c,{className:"cart-items-li-button-icons"})}),Object(j.jsx)("span",{testid:"item-quantity",className:"cart-items-li-quantity",children:e}),Object(j.jsx)("button",{onClick:this.onClickIncreaseQuantity,type:"button",className:"cart-items-li-button",testid:"increment-quantity",children:Object(j.jsx)(J.d,{className:"cart-items-li-button-icons"})})]})}}]),a}(s.Component),se=ae,ne=(a(97),function(e){var t=e.updateCartValue,a=e.itemDetails,s=e.updateCartListState;return Object(j.jsxs)("li",{className:"cart-items-desktop-li",children:[Object(j.jsx)("img",{alt:"cart-item",src:a.imageUrl,className:"cart-items-desktop-li-image"}),Object(j.jsxs)("div",{className:"cart-items-desktop-img-title-container",children:[Object(j.jsx)("p",{className:"cart-items-desktop-li-title",children:a.name}),Object(j.jsx)(se,{itemDetails:a,updateCartListState:s,updateCartValue:t}),Object(j.jsxs)("p",{className:"cart-items-li-cost",testid:"total-price",children:["\u20b9 ","".concat(a.cost*a.quantity),".00"]})]})]})}),re=(a(98),function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"payment-container",children:[Object(j.jsx)("img",{src:"https://res.cloudinary.com/tastykitchen/image/upload/v1635267607/Vectorpayment_nwd9el.png",alt:"success",className:"payment-success-image"}),Object(j.jsx)("h1",{className:"payment-heading",children:"Payment Successful"}),Object(j.jsx)("p",{className:"payment-description",children:"Thank you for ordering Your payment is successfully completed."}),Object(j.jsx)(i.b,{to:"/",children:Object(j.jsx)("button",{className:"payment-go-to-home-button",type:"button",children:"Go To Home Page"})})]})})}),ce=(a(99),function(){return null===JSON.parse(localStorage.getItem("cartData"))?[]:JSON.parse(localStorage.getItem("cartData"))}),ie=function(){var e=ce();if(e.length>0){var t=e.map((function(e){return e.cost*e.quantity})),a=0;return t.forEach((function(e){a+=e})),a}return 0},oe=function(e){Object(O.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(h.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={cartItemsList:ce(),orderTotal:ie(),displayPayment:!1},e.addCartListToLocalStorage=function(){var t=e.state.cartItemsList;localStorage.setItem("cartData",JSON.stringify(t)),e.setState({orderTotal:ie()})},e.updateCartListState=function(t){e.setState({cartItemsList:t},e.addCartListToLocalStorage)},e.updateCartValue=function(){e.setState({orderTotal:ie()})},e.clearCart=function(){var t=[e.state.cartItemsList,Object(ee.a)(new Date,"MMM dd yyyy,p").toString()],a=null===JSON.parse(localStorage.getItem("previousOrder"))?[]:JSON.parse(localStorage.getItem("previousOrder")),s=[].concat(Object($.a)(a),[t]);localStorage.setItem("previousOrder",JSON.stringify(s)),localStorage.removeItem("cartData"),e.setState({displayPayment:!0})},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.cartItemsList,s=t.orderTotal,n=t.displayPayment,r=null;return r=!(a.length>0),Object(j.jsxs)("div",{className:"rest-cart-container",children:[Object(j.jsx)(w,{}),n?Object(j.jsx)(re,{}):Object(j.jsx)("div",{className:"rest-cart-items-container",children:r?Object(j.jsxs)("div",{className:"rest-empty-cart-container",children:[Object(j.jsx)("img",{alt:"empty cart",className:"rest-empty-cart-img",src:"https://res.cloudinary.com/hariy/image/upload/v1642997774/TastyKitchen/cooking_1_lpi3li.png"}),Object(j.jsxs)("div",{className:"rest-empty-cart-desc-container",children:[Object(j.jsx)("h1",{className:"rest-empty-cart-title",children:"No Order Yet!"}),Object(j.jsx)("p",{className:"rest-empty-cart-desc",children:"Your cart is empty. Add something from the menu."}),Object(j.jsx)(i.b,{className:"rest-empty-cart-link",to:"/",children:Object(j.jsx)("button",{className:"rest-empty-cart-button",type:"button",children:"Order Now"})})]})]}):Object(j.jsxs)("div",{className:"rest-cart-items-desktop-container",children:[Object(j.jsxs)("div",{className:"rest-cart-items-desk-table-header-container",children:[Object(j.jsx)("p",{className:"rest-cart-items-desk-table-header  item",children:"Item"}),Object(j.jsx)("p",{className:"rest-cart-items-desk-table-header",children:"Quantity"}),Object(j.jsx)("p",{className:"rest-cart-items-desk-table-header",children:"Price"})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("ul",{className:"rest-cart-item-desktop-ul",children:a.map((function(t){return Object(j.jsx)(ne,{itemDetails:t,updateCartListState:e.updateCartListState,updateCartValue:e.updateCartValue},t.id)}))}),Object(j.jsx)("hr",{className:"rest-cart-item-desk-hr-line"}),Object(j.jsxs)("div",{className:"rest-cart-desk-total-container",children:[Object(j.jsx)("h1",{className:"rest-cont-item-desk-total-title",children:"Order Total:"}),Object(j.jsxs)("div",{children:[Object(j.jsxs)("p",{className:"cart-items-desk-total-cost",testid:"total-price",children:["\u20b9",s,".00"]}),Object(j.jsx)("button",{onClick:this.clearCart,type:"button",className:"cart-item-place-order-button",children:"Place Order"})]})]})]})]})}),Object(j.jsx)(I,{})]})}}]),a}(s.Component),le=oe,ue=(a(100),function(e){var t=e.restaurantDetails,a=t.imageUrl,s=t.costForTwo,n=t.cuisine,r=t.location,c=t.name,i=t.rating,o=t.reviewsCount,l=null;switch(!0){case o<100:l=10*Math.round(o/10);break;case o<1e3:l=100*Math.round(o/100);break;case o<1e4:l=1e3*Math.round(o/1e3);break;case o<1e5:l=1e4*Math.round(o/1e4);break;case o<1e6:l=1e5*Math.round(o/1e5)}return Object(j.jsxs)("div",{className:"rest-menu-rest-detail-container",children:[Object(j.jsxs)("div",{className:"rest-menu-rest-img-cont",children:[Object(j.jsx)("img",{src:a,alt:"restaurant",className:"rest-menu-mobile-rest-image"}),Object(j.jsx)("img",{src:a,alt:"restaurant",className:"rest-menu-desktop-rest-image"})]}),Object(j.jsxs)("div",{className:"rest-menu-detail-container",children:[Object(j.jsx)("h1",{className:"rest-menu-title",children:c}),Object(j.jsx)("p",{className:"rest-menu-cuisine",children:n}),Object(j.jsx)("p",{className:"rest-menu-location",children:r}),Object(j.jsxs)("div",{className:"rest-menu-detail-rating-review-container",children:[Object(j.jsxs)("div",{className:"rest-menu-rating-review-container",children:[Object(j.jsxs)("div",{className:"rest-menu-rating-container",children:[Object(j.jsx)(J.b,{className:"rest-menu-star-icon"}),Object(j.jsx)("p",{className:"rest-menu-star-rating",children:i})]}),Object(j.jsx)("p",{className:"rest-menu-user-rating",children:"".concat(l,"+ Ratings")})]}),Object(j.jsx)("hr",{className:"rest-menu-cont"}),Object(j.jsxs)("div",{className:"rest-cost-container",children:[Object(j.jsx)("p",{className:"rest-menu-cost",children:"\u20b9 ".concat(s)}),Object(j.jsx)("p",{className:"rest-menu-cost-for",children:"Cost for two"})]})]})]})]})}),de=(a(101),function(e){Object(O.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(h.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={quantity:0},e.componentDidMount=function(){var t=e.props,a=t.cartList,s=t.details;a.map((function(t){return t.id===s.id?e.setState({quantity:t.quantity}):0}))},e.addItemTocart=function(){var t=e.props,a=t.details,s=t.onClickAddToCart;e.setState({quantity:1}),s(Object(l.a)(Object(l.a)({},a),{},{quantity:1}))},e.updateCartList=function(){var t=e.state.quantity,a=e.props,s=a.cartList,n=a.details,r=a.updateCartListState,c=s.filter((function(e){return e.id!==n.id})),i=s.filter((function(e){return e.id===n.id})),o=Object(l.a)(Object(l.a)({},i[0]),{},{quantity:t});r(0===o.quantity?Object($.a)(c):[].concat(Object($.a)(c),[o]))},e.onClickDeleteQuantity=function(){e.setState((function(e){return{quantity:e.quantity-1}}),e.updateCartList)},e.onClickIncreaseQuantity=function(){e.setState((function(e){return{quantity:e.quantity+1}}),e.updateCartList)},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.details,a=e.cartList.filter((function(e){return e.id===t.id})).length>0,s=this.state.quantity;return Object(j.jsxs)("li",{testid:"foodItem",className:"rest-menu-list-items-li",children:[Object(j.jsx)("img",{src:t.imageUrl,alt:"foodItem",className:"restaurent-menu-list-images"}),Object(j.jsxs)("div",{className:"rest-menu-li-item-details-cont",children:[Object(j.jsx)("h1",{className:"rest-menu-li-item-name",children:t.name}),Object(j.jsx)("p",{className:"rest-menu-li-items-cost",children:"\u20b9 ".concat(t.cost,".00")}),Object(j.jsxs)("div",{className:"rest-menu-li-items-rating-cont",children:[Object(j.jsx)(J.b,{className:"rest-menu-li-items-rating-icon"}),Object(j.jsx)("p",{className:"rest-menu-li-items-rating-label",children:t.rating})]}),a?Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{onClick:this.onClickDeleteQuantity,type:"button",testid:"decrement-count",className:"cart-items-li-button",children:Object(j.jsx)(J.c,{className:"cart-items-li-button-icons"})}),Object(j.jsx)("span",{className:"cart-items-li-quantity",testid:"active-count",children:s}),Object(j.jsx)("button",{onClick:this.onClickIncreaseQuantity,type:"button",testid:"increment-count",className:"cart-items-li-button",children:Object(j.jsx)(J.d,{className:"cart-items-li-button-icons"})})]}):Object(j.jsx)("button",{type:"button",onClick:this.addItemTocart,className:"rest-menu-li-items-button",children:"Add"})]})]})}}]),a}(s.Component)),je=de,me=(a(102),"INITIAL"),be="SUCCESS",he="FAILURE",pe="IN_PROGRESS",Oe=function(){return null===JSON.parse(localStorage.getItem("cartData"))?[]:JSON.parse(localStorage.getItem("cartData"))},ge=function(e){Object(O.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(h.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={apiStatus:me,restaurantDetails:[],foodItems:[],cartItemsList:Oe()},e.componentDidMount=function(){e.getRestaurantMenu()},e.getRestaurantMenu=Object(b.a)(f.a.mark((function t(){var a,s,n,r,c,i,o,l,u,j;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.match,s=a.params,n=s.id,e.setState({apiStatus:pe}),r=d.a.get("jwt_token"),c="https://apis.ccbp.in/restaurants-list/".concat(n),i={headers:{Authorization:"Bearer ".concat(r)},method:"GET"},t.next=9,fetch(c,i);case 9:if(!(o=t.sent).ok){t.next=19;break}return t.next=13,o.json();case 13:l=t.sent,u={costForTwo:l.cost_for_two,cuisine:l.cuisine,id:l.id,imageUrl:l.image_url,itemsCount:l.items_count,location:l.location,name:l.name,opensAt:l.opens_at,rating:l.rating,reviewsCount:l.reviews_count},j=l.food_items.map((function(e){return{cost:e.cost,foodType:e.food_type,id:e.id,imageUrl:e.image_url,name:e.name,rating:e.rating}})),e.setState({foodItems:j,restaurantDetails:u,apiStatus:be}),t.next=20;break;case 19:e.setState({apiStatus:he});case 20:case"end":return t.stop()}}),t)}))),e.addCartListToLocalStorage=function(){var t=e.state.cartItemsList;localStorage.setItem("cartData",JSON.stringify(t))},e.updateCartListState=function(t){e.setState({cartItemsList:t},e.addCartListToLocalStorage)},e.onClickAddToCart=function(t){e.setState((function(e){return{cartItemsList:[].concat(Object($.a)(e.cartItemsList),[t])}}),e.addCartListToLocalStorage)},e.renderRestaurantDetailsMenu=function(){var t=e.state,a=t.restaurantDetails,s=t.foodItems,n=t.cartItemsList;return Object(j.jsxs)("div",{className:"rest-menu-container",children:[Object(j.jsx)(ue,{restaurantDetails:a}),Object(j.jsx)("ul",{className:"rest-menu-items-list",children:s.map((function(t){return Object(j.jsx)(je,{details:t,cartList:n,onClickAddToCart:e.onClickAddToCart,updateCartListState:e.updateCartListState},t.id)}))})]})},e.renderLoadingView=function(){return Object(j.jsx)("div",{className:"products-loader-container loader",testid:"restaurant-details-loader",children:Object(j.jsx)(_.a,{type:"Oval",color:"#f7931e",height:"50",width:"50"})})},e.renderFailureView=function(){return Object(j.jsx)("h1",{children:"sadf"})},e.renderRestaurantDetails=function(){switch(e.state.apiStatus){case be:return e.renderRestaurantDetailsMenu();case he:return e.renderFailureView();case pe:return e.renderLoadingView();default:return null}},e}return Object(p.a)(a,[{key:"render",value:function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(w,{}),this.renderRestaurantDetails(),Object(j.jsx)(I,{})]})}}]),a}(s.Component),xe=ge,fe=(a(103),function(){return Object(j.jsxs)("div",{className:"rest-page-not-found-container",children:[Object(j.jsx)("img",{src:"https://res.cloudinary.com/hariy/image/upload/v1643000704/TastyKitchen/erroring_1_xijm9n.png",alt:"not found"}),Object(j.jsxs)("div",{className:"rest-page-not-found-desc-container",children:[Object(j.jsx)("h1",{className:"rest-page-not-found-title",children:"Page Not Found"}),Object(j.jsx)("p",{className:"rest-page-not-found-desc",children:"We are sorry, the page you requested could not be found. Please go back to the homepage"}),Object(j.jsx)(i.b,{to:"/",className:"rest-page-not-found-link",children:Object(j.jsx)("button",{type:"button",className:"rest-page-not-found-button",children:"Home Page"})})]})]})}),ve=a(110),Ne=(a(104),function(e){var t=e.itemDetails;return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("li",{className:"ordered-items-mobile-li",children:Object(j.jsxs)("div",{children:[Object(j.jsx)("img",{src:t.imageUrl,className:"ordered-items-li-image",alt:"ordered-items"}),Object(j.jsxs)("div",{className:"ordered-items-li-details-container",children:[Object(j.jsx)("h1",{className:"ordered-items-li-name",children:t.name}),Object(j.jsxs)("div",{className:"ordered-item-quantity-cost-container",children:[Object(j.jsx)("p",{className:"ordered-items-li-cost",children:"Quantity: ".concat(t.quantity)}),Object(j.jsxs)("p",{className:"ordered-items-li-cost",children:["Cost: \u20b9 ","".concat(t.cost*t.quantity,"/-")]})]})]})]})})})}),ye=function(){return Object(j.jsxs)("div",{className:"rest-empty-cart-container",children:[Object(j.jsx)("img",{alt:"empty cart",className:"rest-empty-cart-img",src:"https://res.cloudinary.com/hariy/image/upload/v1642997774/TastyKitchen/cooking_1_lpi3li.png"}),Object(j.jsxs)("div",{className:"rest-empty-cart-desc-container",children:[Object(j.jsx)("h1",{className:"rest-empty-cart-title",children:"No Order Yet!"}),Object(j.jsx)("p",{className:"rest-empty-cart-desc",children:"You havent ordered with us. Order from your favourite restaurants."}),Object(j.jsx)(i.b,{className:"rest-empty-cart-link",to:"/",children:Object(j.jsx)("button",{className:"rest-empty-cart-button",type:"button",children:"Order Now"})})]})]})},Se=(a(105),function(){return JSON.parse(localStorage.getItem("userDetails"))}),ke=function(){return null===JSON.parse(localStorage.getItem("previousOrder"))?[]:JSON.parse(localStorage.getItem("previousOrder")).reverse()},we=function(){return null===JSON.parse(localStorage.getItem("userSavedAddress"))?"Save your Address":JSON.parse(localStorage.getItem("userSavedAddress")).address},Ce=function(e){Object(O.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(h.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={userDetails:[],address:"",pastOrders:[],editAddress:!1},e.componentDidMount=function(){e.setState({userDetails:Se(),pastOrders:ke(),address:we()})},e.onClickEditAddress=function(){e.setState({editAddress:!0})},e.onChangeUserAddress=function(t){e.setState({address:t.target.value})},e.saveUserAddressToLs=function(){var t={address:e.state.address};localStorage.setItem("userSavedAddress",JSON.stringify(t))},e.onSaveUserAddress=function(t){t.preventDefault(),e.setState({editAddress:!1}),e.saveUserAddressToLs()},e.editUserAddress=function(){var t=e.state.address;return Object(j.jsxs)("form",{type:"submit",onSubmit:e.onSaveUserAddress,children:[Object(j.jsx)("textarea",{id:"address",rows:"5",cols:"50",value:t,onChange:e.onChangeUserAddress,className:"account-address-text-area",children:t}),Object(j.jsx)("button",{className:"account-address-edit-button",type:"submit",children:"Save"})]})},e}return Object(p.a)(a,[{key:"render",value:function(){var e=this.state,t=e.userDetails,a=e.pastOrders,s=e.editAddress,n=e.address,r=t.username;return Object(j.jsxs)("div",{className:"account-container",children:[Object(j.jsx)(w,{}),Object(j.jsxs)("div",{className:"user-details-container",children:[Object(j.jsx)("p",{className:"account-user-name-label",children:"User name: ".concat(r)}),Object(j.jsxs)("div",{className:"account-address-container",children:[Object(j.jsx)("p",{className:"account-user-address-label",children:"Address:"}),s?this.editUserAddress():Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("p",{className:"account-user-address",children:n}),Object(j.jsx)("button",{onClick:this.onClickEditAddress,className:"account-address-edit-button",type:"button",children:"Edit address"})]})]}),Object(j.jsx)("div",{children:a.length>0?Object(j.jsxs)("div",{className:"account-past-orders-container",children:[Object(j.jsx)("p",{className:"account-user-past-orders-label",children:"Past Orders"}),Object(j.jsx)("ul",{className:"ordered-items-ul",children:a.map((function(e){var t=0;return Object(j.jsxs)("div",{className:"ordered-item-container",children:[Object(j.jsxs)("div",{className:"account-ordered-at-deliver-cont",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{className:"account-ordered-at-label",children:"Ordered at:"},Object(ve.a)()),Object(j.jsx)("p",{className:"account-ordered-at-label",children:e[1]},Object(ve.a)())]}),Object(j.jsxs)("p",{className:"account-order-delivered-cost",children:["Delivered",Object(j.jsx)(J.a,{className:"account-delivered-icon"})]},Object(ve.a)())]}),Object(j.jsx)("div",{className:"ordered-items-wrap-container",children:e[0].map((function(e){return t+=e.cost*e.quantity,Object(j.jsx)(Ne,{itemDetails:e},e.id)}))}),Object(j.jsxs)("div",{className:"account-order-total-container",children:[Object(j.jsx)("h1",{className:"account-order-total-label",children:"Order Total:"}),Object(j.jsx)("div",{children:Object(j.jsxs)("p",{className:"account-order-total-cost",children:[Object(j.jsx)(F.a,{}),t,"/-"]},t)})]})]},Object(ve.a)())}))})]}):Object(j.jsx)(ye,{})})]}),Object(j.jsx)(I,{})]})}}]),a}(s.Component),Ie=Ce,Le=Object(o.g)((function(){return Object(j.jsxs)(o.d,{children:[Object(j.jsx)(o.b,{exact:!0,path:"/login",component:N}),Object(j.jsx)(m,{exact:!0,path:"/",component:Z}),Object(j.jsx)(m,{exact:!0,path:"/cart",component:le}),Object(j.jsx)(m,{exact:!0,path:"/restaurant/:id",component:xe}),Object(j.jsx)(m,{exact:!0,path:"/account",component:Ie}),Object(j.jsx)(o.b,{path:"/not-found",component:fe}),Object(j.jsx)(o.a,{to:"/not-found"})]})}));c.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(i.a,{basename:"/FoodOrderingApp",children:Object(j.jsx)(Le,{})})}),document.getElementById("root"))},45:function(e,t,a){},55:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[106,1,2]]]);
//# sourceMappingURL=main.ff0737f8.chunk.js.map